<!-- Breadcrumb -->
<div style="max-width: 1400px; margin: 0 auto; padding: var(--space-4) var(--space-6);">
    <nav style="display: flex; align-items: center; gap: var(--space-2); font-size: 0.875rem; color: var(--gray-600);">
        <a href="#" onclick="navigateTo('home')" style="color: var(--primary-color); text-decoration: none;">Home</a>
        <span>›</span>
        <a href="#" onclick="navigateTo('singles')" style="color: var(--primary-color); text-decoration: none;">Singles</a>
        <span>›</span>
        <span id="breadcrumb-card-name">Card Details</span>
    </nav>
</div>

<!-- Main Content -->
<main style="max-width: 1400px; margin: 0 auto; padding: 0 var(--space-6) var(--space-12);">
    
    <!-- Loading State -->
    <div id="product-loading" class="loading-container">
        <div class="loading-spinner"></div>
        <p class="loading-text">Loading card details...</p>
    </div>

    <!-- Error State -->
    <div id="product-error" class="loading-container" style="display: none;">
        <p class="loading-text" style="color: var(--error-color);">Card not found. Please try again.</p>
        <a href="#" onclick="navigateTo('singles')" style="padding: var(--space-3) var(--space-6); background: var(--primary-color); color: white; text-decoration: none; border-radius: var(--radius-md); font-weight: 600; margin-top: var(--space-4); display: inline-block;">Browse All Cards</a>
    </div>

    <!-- Product Content -->
    <div id="product-content" style="display: none;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-12); margin-bottom: var(--space-16);">
            
            <!-- Product Images -->
            <div>
                <div style="background: white; border-radius: var(--radius-xl); box-shadow: var(--shadow-lg); padding: var(--space-8); border: 1px solid var(--gray-200);">
                    <div style="aspect-ratio: 3/4; background: linear-gradient(135deg, var(--gray-100) 0%, var(--gray-200) 100%); border-radius: var(--radius-lg); overflow: hidden; margin-bottom: var(--space-4); cursor: pointer;" onclick="openImageZoom()">
                        <img id="main-card-image" src="" alt="" style="width: 100%; height: 100%; object-fit: contain; padding: var(--space-2);">
                    </div>
                    <div style="display: flex; gap: var(--space-2); justify-content: center;">
                        <img id="thumb-normal" src="" alt="Normal view" style="width: 60px; height: 80px; object-fit: contain; border-radius: var(--radius-md); border: 2px solid var(--primary-color); cursor: pointer;" onclick="switchImage('normal')">
                        <img id="thumb-small" src="" alt="Small view" style="width: 60px; height: 80px; object-fit: contain; border-radius: var(--radius-md); border: 2px solid var(--gray-300); cursor: pointer;" onclick="switchImage('small')">
                    </div>
                </div>
            </div>

            <!-- Product Information -->
            <div>
                <div style="background: white; border-radius: var(--radius-xl); box-shadow: var(--shadow-lg); padding: var(--space-8); border: 1px solid var(--gray-200);">
                    
                    <!-- Product Header -->
                    <div style="margin-bottom: var(--space-6);">
                        <h1 id="product-title" style="font-size: 2.5rem; font-weight: 700; color: var(--gray-900); margin-bottom: var(--space-3); line-height: 1.2;"></h1>
                        <div style="display: flex; gap: var(--space-4); margin-bottom: var(--space-4);">
                            <span id="product-type" style="background: var(--primary-color); color: white; padding: var(--space-1) var(--space-3); border-radius: var(--radius-full); font-size: 0.875rem; font-weight: 600;"></span>
                            <span id="product-rarity" style="background: var(--secondary-color); color: var(--gray-900); padding: var(--space-1) var(--space-3); border-radius: var(--radius-full); font-size: 0.875rem; font-weight: 600;"></span>
                        </div>
                    </div>

                    <!-- Card Stats -->
                    <div id="card-stats" style="margin-bottom: var(--space-6);">
                        <!-- Stats will be populated by JavaScript -->
                    </div>

                    <!-- Pricing Section -->
                    <div style="background: var(--gray-50); border-radius: var(--radius-lg); padding: var(--space-6); margin-bottom: var(--space-6);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-4);">
                            <span id="current-price" style="font-size: 2rem; font-weight: 700; color: var(--primary-color);">$0.00</span>
                            <span id="price-trend" style="font-size: 0.875rem; font-weight: 600; padding: var(--space-1) var(--space-3); border-radius: var(--radius-md);"></span>
                        </div>
                    </div>

                    <!-- Add to Cart Section -->
                    <div style="margin-bottom: var(--space-6);">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-4); margin-bottom: var(--space-4);">
                            <div>
                                <label style="display: block; font-weight: 600; color: var(--gray-700); margin-bottom: var(--space-2);">Quantity:</label>
                                <div style="display: flex; align-items: center; border: 1px solid var(--gray-300); border-radius: var(--radius-md); overflow: hidden;">
                                    <button style="padding: var(--space-3); background: var(--gray-100); border: none; cursor: pointer;" onclick="changeQuantity(-1)">-</button>
                                    <input type="number" id="quantity" value="1" min="1" max="99" style="flex: 1; padding: var(--space-3); border: none; text-align: center; font-weight: 600;">
                                    <button style="padding: var(--space-3); background: var(--gray-100); border: none; cursor: pointer;" onclick="changeQuantity(1)">+</button>
                                </div>
                            </div>
                            <div>
                                <label style="display: block; font-weight: 600; color: var(--gray-700); margin-bottom: var(--space-2);">Condition:</label>
                                <select id="condition" style="width: 100%; padding: var(--space-3); border: 1px solid var(--gray-300); border-radius: var(--radius-md); font-size: 0.875rem;">
                                    <option value="near_mint">Near Mint</option>
                                    <option value="lightly_played">Lightly Played (-10%)</option>
                                    <option value="moderately_played">Moderately Played (-20%)</option>
                                    <option value="heavily_played">Heavily Played (-35%)</option>
                                    <option value="damaged">Damaged (-50%)</option>
                                </select>
                            </div>
                        </div>
                        <button id="add-to-cart-btn" style="width: 100%; padding: var(--space-4); background: var(--primary-color); color: white; border: none; border-radius: var(--radius-md); font-weight: 600; font-size: 1.125rem; cursor: pointer; transition: var(--transition-fast); text-transform: uppercase; letter-spacing: 0.05em;" onclick="addCurrentCardToCart()">
                            Add to Cart
                        </button>
                    </div>

                    <!-- Card Description -->
                    <div>
                        <h3 style="font-size: 1.25rem; font-weight: 600; color: var(--gray-900); margin-bottom: var(--space-3);">Card Description</h3>
                        <p id="card-description-text" style="color: var(--gray-700); line-height: 1.6;"></p>
                    </div>

                </div>
            </div>
        </div>

        <!-- Related Cards Section -->
        <div>
            <h2 style="font-size: 2rem; font-weight: 600; color: var(--gray-900); margin-bottom: var(--space-8); text-align: center;">You May Also Like</h2>
            <div id="related-cards-grid" class="modern-card-grid">
                <!-- Related cards will be populated by JavaScript -->
            </div>
        </div>
    </div>

</main>

<!-- Image Zoom Modal -->
<div id="image-zoom-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: var(--z-modal); align-items: center; justify-content: center;">
    <div style="position: relative; max-width: 90vw; max-height: 90vh;">
        <button onclick="closeImageZoom()" style="position: absolute; top: -40px; right: 0; background: none; border: none; color: white; font-size: 2rem; cursor: pointer;">×</button>
        <img id="zoomed-image" src="" alt="" style="max-width: 100%; max-height: 100%; object-fit: contain;">
    </div>
</div>

<style>
    @media (max-width: 768px) {
        main > div:first-child > div:first-child {
            grid-template-columns: 1fr !important;
            gap: var(--space-8) !important;
        }
    }
</style>
